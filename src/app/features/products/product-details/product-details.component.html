<p-confirmDialog header="Confirm Delete" icon="pi pi-exclamation-triangle"></p-confirmDialog>
<p-toast></p-toast>

<div *ngIf="loader.isLoading | async" class="card p-6 rounded-lg shadow-lg bg-white max-w-4xl mx-auto mt-6 animate-pulse">
  <div class="mb-4 bg-gradient-to-r from-green-400 to-blue-500 p-4 rounded-t-lg text-white h-10"></div>

  <div class="flex flex-col items-center mt-4 space-y-4">
    <div class="w-40 h-40 bg-gray-300 rounded-lg shadow"></div>
    <div class="w-1/2 h-6 bg-gray-300 rounded"></div>
    <div class="w-1/4 h-4 bg-gray-300 rounded"></div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4 w-full">
    <div class="h-5 bg-gray-300 rounded"></div>
    <div class="h-5 bg-gray-300 rounded"></div>
    <div class="h-5 bg-gray-300 rounded"></div>
    <div class="h-5 bg-gray-300 rounded"></div>
    <div class="h-5 bg-gray-300 rounded md:col-span-2"></div>
  </div>

  <div class="flex gap-3 justify-end mt-6">
    <div class="w-20 h-8 bg-gray-300 rounded"></div>
    <div class="w-20 h-8 bg-gray-300 rounded"></div>
  </div>
</div>

<div *ngIf="product && !(loader.isLoading | async)" class="card p-6 rounded-lg shadow-lg bg-white max-w-4xl mx-auto mt-6">
      <div class="mb-4 bg-gradient-to-r from-green-400 to-blue-500 p-4 rounded-t-lg text-white">
    <h2 class="text-2xl font-bold">Product Details</h2>
  </div>
  <div class="flex flex-col items-center">
    <img 
      [src]="product.thumbnail_url" 
      class="w-40 h-40 object-cover rounded-lg shadow mb-4"
      alt="Product Image"
    /></div>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
    <div><p class="font-semibold text-gray-700">Name:</p><p class="text-gray-900 text-lg">{{ product.name }}</p></div>
    <div><p class="font-semibold text-gray-700">SKU:</p><p class="text-gray-900 text-lg">{{ product.sku }}</p></div>
    <div><p class="font-semibold text-gray-700">Slug:</p><p class="text-gray-900 text-lg">{{ product.slug }}</p></div>
    <div><p class="font-semibold text-gray-700">Price:</p><p class="text-gray-900 text-lg">{{ product.price }} {{ product.currency }}</p></div>
    <div><p class="font-semibold text-gray-700">Stock:</p><p class="text-gray-900 text-lg">{{ product.stock }}</p></div>
        <div><p class="font-semibold text-gray-700">Created at:</p><p class="text-gray-900 text-lg">{{ product.created_at | date: 'medium' }}</p></div>
    <div><p class="font-semibold text-gray-700">Updated at:</p><p class="text-gray-900 text-lg">{{ product.updated_at | date: 'medium' }}</p></div>

    <div><p class="font-semibold text-gray-700">Status:</p>
      <p-tag [value]="product.is_active ? 'Active' : 'Inactive'" [severity]="product.is_active ? 'success' : 'danger'"></p-tag>
    </div>
    <div class="md:col-span-2"><p class="font-semibold text-gray-700">Description:</p><p class="text-gray-900">{{ product.description || 'No description available' }}</p></div>
  </div>
  <div class="flex gap-3 justify-end mt-6 z-50">
    <button pButton icon="pi pi-pencil" label="Edit" severity="warn" (click)="editProduct(product)"></button>
    <button pButton icon="pi pi-trash" label="Delete" severity="danger" (click)="deleteProduct(product)"></button>
  </div>
</div>
